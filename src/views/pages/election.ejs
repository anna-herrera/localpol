<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../partials/head %>
</head>
<body class="container">

<header>
    <% include ../partials/header %>
</header>

<main>
    <div class="container-fluid">
        <% console.log(data) %>
        <div class="row">
            <h1><%= data.title %></h1>
        </div>
        <div class="row">
        </div>
        <div class ='row' style='margin-top: 25px;'>
            <div class='col-md-6'>
                <h2>Election Level</h2>
                <h4><%= data.level %></h4>
            </div>
            <div class='col-md-6'>
                <h2>Election Type</h2>
                <h4><%= data.type %></h4>
            </div>
        </div>
        <div class="row" style='margin-top: 25px;'>
            <div class="col-md-6">
                <h2>Election Dates</h2>
                <p>Add date to your Google Calendar</p>
                <div class="list-group">
                    <a href="/election/<%= data.title%>/<%= i%>" class="list-group-item">
                        <h4 class="list-group-item-heading"><i class="fa fa-calendar"></i><%= " Election Date"%></h4>
                        <p class="list-group-item-text"><%= data.date %></p>
                    </a>
                    <% for(var i in data.otherDates) { %>
                        <% var lookup = {
                            'DRD': 'Domestic Registration Deadline',
                            'DBRD': 'Domestic Ballot Request Deadline',
                            'DBED': 'Domestic Ballot Return Deadline',
                            'ORD': 'Overseas Registration Deadline',
                            'OBRD': 'Overseas Ballot Request Deadline',
                            'OBED': 'Overseas Ballot Return Deadline',
                            'MRD': 'Military Registration Deadline',
                            'MBRD': 'Military Ballot Request Deadline',
                            'MBED': 'Military Ballot Return Deadline',
                            'EVF': 'Early Voting From',
                            'EVT': 'Early Voting To',
                            'AVF': 'In-Person Absentee Voting From',
                            'AVT': 'In-Person Absentee Voting To'
                        } %>
                        <a href="/election/<%= data.title%>/<%= i%>" class="list-group-item">
                            <h4 class="list-group-item-heading"><i class="fa fa-calendar"></i><%= " " + lookup[data.otherDates[i].kind] %></h4>
                            <p class="list-group-item-text"><%= data.otherDates[i].date_human_readable %></p>
                        </a>
                        
                    <% } %>
                </div>
            </div>
            <div class="col-md-6">
                <h2>Candidates</h2>
                <p>Select a candidate to view their platform</p>
                <div class="list-group">
                    <% for(var i in data.candidates) { %>
                        <% console.log(i); %>
                        <a href="/candidate/<%= i%>" class="list-group-item"><%= data.candidates[i] %></a>
                    <% } %>
                    </div>
            </div>     
        <div/>
    </div>
</main>

<footer>
    <% include ../partials/footer %>
</footer>

</body>
</html>